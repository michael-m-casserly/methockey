<!--API Documentation can be found here: https://developers.google.com/calendar/v3/reference/events/list -->

<!--Current list of team variables used for Calendar API (for the q parameter), these need to be unique strings (with no possible overlap) to allow only those events to be returned in each list...

Current Teams
Columbia
Farmingdale
Kings%20Point
Maritime
Sacred%20Heart
Stevens
STAC
Suffolk
WestConn

Former Teams
Adelphi University
Albany
Binghamton
Briarcliffe
Brooklyn College
CCNY
C.C.M.
Cook College
C.W. Post
Fairfield
Fairleigh Dickinson
Farmingdale, 'SUNY Farmngdale' // Intentional typo here to avoid the original team showing up in the new 2021 team feed
Fordham
Hofstra
Iona College
John Jay
Kean
Manhattan
Marist
Monmouth
Montclair
Nassau
NJIT
NYIT
NYU
Ocean County
Pace
Paterson
Queens College
Ramapo
Raritan Valley
Rockland C.C.
Rutgers
SCSU
Seton Hall
Siena
Skidmore
St. Francis
St. Johns
St. Rose
Stony Brook
U. Bridgeport --Needed to add the U. since Bridgeport appears in link addresses for Location
Union College
Upsala
Wagner
Yale

-->
<style type="text/css">
.btn-secondary {
	width: 250px;
}
</style>
<a name="schedule"></a> <!--Anchor tag for linking directly to a team's schedule-->
<br/><br/> <!--Breaks to allow for proper landing of anchor tag-->
<div class="PageSectionHeader">Current Schedule &amp; Results</div>
<center><table class="TableStandard" border="1" id="demo" cellpadding="2" cellspacing="2"></table>
<br/><a class="btn btn-secondary" role="button" href="/results/index.shtml">Current League Results &raquo;</a><br /><br />
<a class="btn btn-secondary" role="button" href="/standings/index.shtml">Current League Standings &raquo;</a></center>

<script>
var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
var myObj, i, x = "";
myObj = JSON.parse(this.responseText, function (key, value){
if (key == "dateTime") {

	function unix_to_readable(value) {
    var date = new Date(value) ;
    return ('0' + (date.getMonth()+1)).slice(-2) + '/'
         + ('0' + date.getDate()).slice(-2) + '/'
         + date.getFullYear() + '<br/>' + date.getHours() % 12 + ':' + ('0' + date.getMinutes()).slice(-2) + ' PM'; // Hardcoding PM under the assumption there will never be any morning games. If this ever changes, then will need to create a function to account for this. Perhaps revisit this page: https://stackoverflow.com/questions/10556879/changing-the-1-24-hour-to-1-12-hour-for-the-gethours-method
	}
	return unix_to_readable(value);
	} 
	
	else {
		return value;
	}
}
);

for (i = 0; i < myObj.items.length; i++) 
{
  x += "<tr class='TableHeader'><td colspan='2' align='center'>" + myObj.items[i].summary + "</td></tr><tr><td align='center'><b>" + myObj.items[i].start.dateTime + "</b></td><td align='center' style='font-size:12px'>" + myObj.items[i].location + "</td></tr><tr><td colspan='2'></td></tr>";
}
document.getElementById("demo").innerHTML = x;  }
};


xmlhttp.open("GET", "https://www.googleapis.com/calendar/v3/calendars/9lh231pkuunmglga33vso1cnv8%40group.calendar.google.com/events?q=" + q + "&timeMin=2021-09-01T01:00:00-05:00&timeMax=2022-03-01T01:00:00-05:00&singleEvents=True&orderBy=startTime&key=AIzaSyBFDfMVc8WUWgXluMpYr4-OVkUn1EyIbuM", true);
xmlhttp.send();
</script>
